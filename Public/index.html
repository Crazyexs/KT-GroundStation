<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SPACE AC — Groundstation</title>
  <link rel="icon" type="image/png" href="assets/spaceac.jpg" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Top Navigation -->
  <header class="topbar">
    <div class="container topbar__inner">
      <div class="brand">
        <img src="assets/spaceac.jpg" alt="SPACE AC logo" style="width:100px;height:80px;">
        <div class="brand__name">SPACE&nbsp;AC</div>
      </div>
      <span class="pill">GROUNDSTATION (v.1)</span>
      <nav class="primary">
        <a class="nav__link" href="#connect">Connect</a>
        <a class="nav__link" href="#uplink">Uplink</a>
        <a class="nav__link" href="#graphs">Graphs</a>
        <a class="nav__link" href="#map">Map</a>
        <a class="nav__link" href="#downloads">Downloads</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- Mission Console -->
    <section id="connect" class="container">
      <div class="section__hdr">
        <h2 class="section__title">Mission Console</h2>
      </div>

      <!-- Left Middle ight -->
      <div class="dashboard-grid">
        <!-- LEFT: Vertical Table -->
        <div class="pane" id="left-telemetry">
          <article class="card">
            <div class="card__hdr"><div class="card__title">Vertical Table</div></div>
            <div class="card__body no-pad">
              <div class="table-wrap resizable" style="--min-h:720px">
                <table id="telemetry-table" aria-label="Telemetry table">
                  <thead>
                    <tr>
                      <th style="width:160px">Timestamp</th>
                      <th>Parameter</th>
                      <th style="width:120px">Value</th>
                      <th style="width:90px">Unit</th>
                      <th style="width:30%">Note</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="demo-row">
                      <td>—</td><td>Waiting for data…</td><td>—</td><td>—</td><td>—</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </article>
        </div>

        <!-- MIDDLE-->
        <div class="pane" id="middle-controls">
          <!-- Serial Connect -->
          <article class="card">
            <div class="card__hdr">
              <div class="card__title">Serial Connect</div>
              <div class="kv">
                <span class="dot bad" id="serial-dot"></span>
                <span id="serial-state">Disconnected</span>
              </div>
            </div>
            <div class="card__body">
              <div class="row cols-2">
                <div>
                  <label for="baud">Baud Rate</label>
                  <div class="select select-lg">
                    <select id="baud" name="baud">
                      <option value="115200" selected>115200</option>
                      <option value="921600">921600</option>
                      <option value="460800">460800</option>
                      <option value="230400">230400</option>
                      <option value="57600">57600</option>
                    </select>
                  </div>
                </div>
                <div>
                  <label>Port</label>
                  <div class="port-box" id="port-label">No port selected</div>
                </div>
              </div>
              <div class="btnrow">
                <button class="btn btn--accent" data-btn="serial-request">Connect Serial</button>
                <button class="btn" data-btn="serial-disconnect">Disconnect</button>
                <button class="btn btn--danger" data-btn="reset-db">Reset Database</button>
              </div>
            </div>
          </article>

          <!-- Send CMD -->
          <article class="card" id="uplink">
            <div class="card__hdr"><div class="card__title">Send CMD</div></div>
            <div class="card__body">
              <label for="uplink-cmd">Command</label>
              <div class="row cols-2">
                <div class="select select-lg">
                  <select id="uplink-cmd" name="uplink-cmd">
                    <option>Ping</option><option>Wake</option><option>On</option><option>Arm</option>
                    <option>Disarm</option><option>Pad</option><option>Servo A Lock</option><option>Servo A Deploy</option>
                    <option>Servo B Lock</option><option>Servo B Deploy</option><option>Launch Override</option><option>Recover</option>
                    <option>Zero</option><option>Sleep</option><option>Shutdown</option><option>Reboot</option><option>Restart</option>
                  </select>
                </div>
                <input id="cmd-tag" name="cmd-tag" placeholder="Tag (optional)" />
              </div>
              <div class="btnrow">
                <button class="btn btn--accent" data-btn="send-cmd">Send</button>
                <button class="btn" data-btn="clear-cmd">Clear</button>
              </div>
            </div>
          </article>

          <!-- Downloads -->
          <article class="card" id="downloads">
            <div class="card__hdr"><div class="card__title">Downloads</div></div>
            <div class="card__body">
              <div class="btnrow">
                <button class="btn btn--primary" data-btn="dl-sensor">Download Sensor Data</button>
                <button class="btn" data-btn="dl-cmd">Download Command Data</button>
              </div>
            </div>
          </article>
        </div>

        <!-- RIGHT -->
        <div class="pane" id="telemetry-pane">
          <article class="card">
            <div class="card__hdr"><div class="card__title">Telemetry Summary</div></div>
            <div class="card__body">
              <div class="row cols-2">
                <div><span class="hero__hint">Packets</span><div class="stat" id="stat-packets">0</div></div>
                <div><span class="hero__hint">Uplink OK</span><div class="stat" id="stat-uplink">0</div></div>
                <div><span class="hero__hint">Downlink OK</span><div class="stat" id="stat-downlink">0</div></div>
                <div><span class="hero__hint">Errors</span><div class="stat" id="stat-errors">0</div></div>
              </div>
            </div>
          </article>

          <article class="card">
            <div class="card__hdr"><div class="card__title">Command Monitor</div></div>
            <div class="card__body">
              <div class="monitor resizable" id="monitor" aria-live="polite">
                <div class="slot-hint skeleton">Waiting for messages…</div>
              </div>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- Graphs -->
    <section id="graphs" class="container">
      <div class="section__hdr">
        <h2 class="section__title">Flexible Graph — Add On</h2>
        <div class="btnrow">
          <button class="btn" data-btn="add-graph">AUTO ADD GRAPH</button>
          <button class="btn" data-btn="add-graph">ADD GRAPH</button>
          <button class="btn" data-btn="clear-graphs">Clear All</button>
        </div>
      </div>
      <div class="graph-grid" id="graph-grid">
        <div class="graph-slot resizable is-empty" id="graph-1" style="--min-h:260px; --ar:auto">
          <div class="slot-hint skeleton">Drop a &lt;canvas&gt; or &lt;svg&gt; here</div>
        </div>
        <div class="graph-slot resizable is-empty" id="graph-2" style="--min-h:260px; --ar:auto">
          <div class="slot-hint skeleton">Another graph slot</div>
        </div>
        <div class="graph-slot resizable is-empty" id="graph-3" style="--min-h:320px; --ar:16/9">
          <div class="slot-hint skeleton">Wide 16:9 graph slot</div>
        </div>
      </div>
    </section>

    <!-- Map -->
    <section class="container">
      <div class="section__hdr"><h2 class="section__title">Rocket MAP</h2></div>
      <div id="map" class="resizable" style="--min-h:420px; --ar:auto">
        <div class="slot-hint skeleton">Map placeholder — plug your JS map here</div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">© <span id="year">2025</span> SPACE AC — Groundstation by KT</div>
  </footer>

  <script defer src="app.js"></script>
</body>
</html>
